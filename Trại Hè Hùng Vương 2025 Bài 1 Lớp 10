https://oj.clue.edu.vn/problem/thhv25_game


#include<bits/stdc++.h>
using namespace std;
#define int long long
#define F first
#define S second
#define FOR(i,a,b) for(int i = (a);i < (b);i++)
void solve(void){
    int n,t,a,b;cin >> n >> t >> a >> b;
    int s = 0,tt = 0;
    int v[n + 1],ans = 0;
    FOR(i,1,n + 1) cin >> v[i];
    priority_queue<int,vector<int>,greater<int>> q;
    FOR(i,1,n + 1){
        s += v[i];
        q.push(v[i]);
        tt += a;
        while(tt > t && !q.empty()){
            int tk = q.top();
            s-= tk;
            q.pop();
            tt -= (a - b);
        }
        if(tt <= t)ans = max(ans,s);
    }
    cout << ans << '\n';
}
signed main(){
    ios::sync_with_stdio(0);cin.tie(0);cout.tie(0);
    solve();
    return 0;
}

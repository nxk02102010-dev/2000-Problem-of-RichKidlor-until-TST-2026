https://codeforces.com/contest/687/problem/C

#include<bits/stdc++.h>
using namespace std;
int f[2][501][501];
int main(){
    ios::sync_with_stdio(0);cin.tie(0);cout.tie(0);
    int n,k;cin >> n >> k;
    f[0][0][0] = 1;
    for(int i = 1;i <= n;i++){
        int x;cin >> x;
        int now = i & 1;
        int last = 1 - now;
        for(int j = 0;j <= k;j++){
            for(int y = 0;y <= j;y++){
                f[now][j][y] = f[last][j][y];
                if(j >= x){
                    f[now][j][y] |= f[last][j - x][y];
                    if(y >= x) f[now][j][y]|= f[last][j - x][y - x];
                }
            }
        }
    }
    vector<int> res;
    for(int i = 0;i <= k;i++) if(f[n % 2][k][i]) res.push_back(i);
    cout << res.size() << '\n';
    for(int i : res) cout << i << ' ';
}

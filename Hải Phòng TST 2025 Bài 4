 Cho hai dÃ£y sá»‘ nguyÃªn ğ´ = (ğ‘1
, ğ‘2
, â€¦ , ğ‘ğ‘›) vÃ  ğµ = (ğ‘1
, ğ‘2
, â€¦ , ğ‘ğ‘›). Ta Ä‘á»‹nh nghÄ©a
giÃ¡ trá»‹ cá»§a Ä‘oáº¡n con (ğ‘–,ğ‘—) vá»›i 1 â‰¤ ğ‘– â‰¤ ğ‘— â‰¤ ğ‘› báº±ng biá»ƒu thá»©c:
ğ‘ğ‘– Ã— ğ‘ğ‘— + ğ‘ğ‘–+1 Ã— ğ‘ğ‘—âˆ’1 + â‹¯ + ğ‘ğ‘— Ã— ğ‘ğ‘– = âˆ‘ğ‘ğ‘–+ğ‘˜ Ã— ğ‘ğ‘—âˆ’ğ‘˜
ğ‘—âˆ’ğ‘–
ğ‘˜=0
VÃ­ dá»¥: Náº¿u ğ´ = (7, 2, 1, 4, 6) vÃ  ğµ = (4,5,0, âˆ’2,3) thÃ¬ giÃ¡ trá»‹ Ä‘oáº¡n con (2,4) báº±ng:
2 Ã— (âˆ’2) + 1 Ã— 0 + 4 Ã— 5 = 16
YÃªu cáº§u: TÃ­nh giÃ¡ trá»‹ lá»›n nháº¥t cá»§a má»™t Ä‘oáº¡n con.


#include<bits/stdc++.h>
using namespace std;
#define int long long
#define F first
#define S second
const int MAX = 5001;
int a[MAX],b[MAX],n,f[MAX][MAX];
void solve(void){
    cin >> n;
    for(int i = 1;i <= n;i++) cin >> a[i];
    for(int i = 1;i <= n;i++) cin >> b[i],f[i][i] = a[i] * b[i];
    int ans = INT_MIN;
    for(int len = 2;len <= n;len++){
        for(int i = 1;i + len - 1 <= n;i++){
            int j = i + len - 1;
            f[i][j] = f[i + 1][j - 1] + (a[i] * b[j]) + a[j] * b[i];
            ans = max(ans,f[i][j]);
        }
    }
    cout << ans << '\n';
}
signed main(){
    ios::sync_with_stdio(0);
    cin.tie(0);
    cout.tie(0);
    solve();
}

https://oj.vnoi.info/problem/olp_ct24_path


#include<bits/stdc++.h>
using namespace std;
#define int long long
const int MAX = 200100,LIM = 1011,M = 1ll * 1e9 + 7;
void add(int &x, const int &y) {
    x += y;
    if (x >= M) x -= M;
}
int inv(int a){
    int res = 1,b = M - 2;
    while(b > 0){
        if(b & 1)res = res * a % M;
        a =  a * a % M;
        b >>= 1;
    }
    return res;
}
int fact[MAX],finv[MAX];
void prepare(){
    fact[0] = 1;
    for(int i = 1;i < MAX;i++) fact[i] = fact[i - 1] * i % M;
    finv[MAX - 1] = inv(fact[MAX - 1]);
    for(int i = MAX - 2;i >= 0;i--){
        finv[i] = finv[i + 1] * (i + 1) % M;
    }
}
int f[LIM][LIM];
bool a[LIM][LIM];
int C(int n,int k){
    return k > n ? 0 : 1ll * fact[n] * finv[k] % M * finv[n - k] % M;
}
int W(int i,int j,int x,int y){
    return x < i || y < j ? 0 : C(y - j + x - i,x - i);
}
void solve(){
    int n,m,k;cin >> n >> m >> k;
    for(int i = 0;i < LIM;i++) for(int j = 0;j < LIM;j++) a[i][j] = 1,f[i][j] = 0;
    int row = 1,col = 1;
    for(int i = 0;i < k;i++){
        int x,y;
        cin >> x >> y;
        a[x][y] = 0;
        row = max(row,x);
        col = max(col,y);
    }
    f[1][1] = 1;
    for(int i = 1;i <= row;i++) for(int j = 1;j <= col;j++) if(f[i][j] > 0){
        if(i < row && a[i + 1][j]) add(f[i + 1][j],f[i][j]);
        if(j < col && a[i][j + 1]) add(f[i][j + 1],f[i][j]);
    }
    if(n == row && m == col){
        cout << f[row][col] << '\n';
        return;
    }
    int res = 0;
    if(col < m){
        for(int i = 1;i <= row;i++) res = (res + 1ll * f[i][col] * W(i,col + 1,n,m)) % M;
    }
    if(row < n){
        for(int i = 1;i <= col;i++) res = (res + 1ll * f[row][i] * W(row + 1,i,n,m)) % M;
    }
    cout << res % M << '\n';
}
signed main(){
    ios::sync_with_stdio(0);cin.tie(0);cout.tie(0);
    prepare();
    solve();
}
